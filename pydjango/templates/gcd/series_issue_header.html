{% load i18n %}
{% load credits %}

<h1 class="item_id">
<div class="left">
  <span id="series_name">
    <a href="{{ series.get_absolute_url }}">{{ series.name }}</a>
  </span>
  {% if issue_number %}
  {{ issue_number|show_issue_number }}
  {% endif %}
</div>
<div class="right">
  {% if issue.publication_date %}
    ({{ issue.publication_date }})
  {% endif %}
</div>
</h1>

<div class="item_id">
  <div class="left" class="item_data">
    <a href="{{ series.publisher.get_absolute_url }}">{{ series.publisher }}</a>,
    <!-- use imprint_id to avoid a needless DB lookup on imprint_id = 0
         If we used NULL for "no imprint" this wouldn't be a problem.  -->
    {% if series.imprint_id %}
      <a href="{{ series.imprint.get_absolute_url }}">{{ series.imprint }}</a> imprint,
    {% endif %}
    {{ series.year_began }} Series,
    <img src="{{ media_url }}/img/gcd/flags/{{ series.country_code|lower }}.gif" alt="{{ country }}">
    {% if country %}
    {{ country }},
    Published in {{ language }}
    {% endif %}
  </div>

  {% if issue_number %}
  <div class="right" class="prev_next">
      {% if prev_issue %}
          <a href="{{ prev_issue.get_absolute_url }}{{ extra }}?style={{ style }}">&lt; {% trans "Previous Issue" %}</a>
      {% endif %}
      {% if prev_issue or next_issue %}
        |
      {% endif %}
      {% if next_issue %}
          <a href="{{ next_issue.get_absolute_url }}{{ extra }}?style={{ style }}">{% trans "Next Issue" %} &gt;</a>
      {% endif %}
  </div>
  {% endif %}
  {% if page %}
  <div class="right pagination">
    {% if page.has_other_pages %}
      {% if page.has_previous %}
        <a href="?style={{ style }}&page={{ page.previous_page_number }}">&lt; {% trans "Previous" %}</a>
      {% else %}
        &lt; {% trans "Previous" %}
      {% endif %}
      |
      {% for number in paginator.page_range %}
        {% ifequal number page_number %}
          {{ number }}
        {% else %}
          <a href="?style={{ style }}&page={{ number }}">{{ number }}</a>
        {% endifequal %}
        |
      {% endfor %}
      {% if page.has_next %}
        <a href="{{ page_url }}?style={{ style }}&page={{ page.next_page_number }}">{% trans "Next" %} &gt;</a>
      {% else %}
        {% trans "Next" %} &gt;
      {% endif %}
    {% endif %}
  </div>
  {% endif %}
</div>
